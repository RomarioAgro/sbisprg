функция СуммаИзСтр(Строка, ...)
{ Перем Рез, ТекЧис, ТекПоз, ЭтоЧисло, ЧисСтр, сим;
  ПоПорядку = Есть(Параметры[1]) ? Параметры[1] : 1;
  ТекЧис = 0;
  ТекПоз = 1;
  ЭтоЧисло = 0;
  ЧисСтр = "";
  Пока(ТекПоз<=Размер(Строка))
  { сим = Подстрока(Строка,ТекПоз,1);
    если(ЭтоЧисло)
    { если((сим>="0" и сим<="9") или сим == ".") ЧисСтр += сим;
      иначе
      { если(ТекЧис==ПоПорядку)
          Вернуть Деньги(ЧисСтр);
        иначе
        { ЭтоЧисло = 0;
          ЧисСтр = "";
        }
      }
    }
    иначе
    { если((сим>="1" и сим<="9"))
      { ЭтоЧисло = 1;
        ТекЧис++;
        ЧисСтр = сим;
        если(ТекПоз!=1 и Подстрока(Строка,ТекПоз-1,1)=="-") ЧисСтр = "-"+ЧисСтр;
      }
    }
    ТекПоз++;
  }
#  Сообщить(ТекЧис+" "+ЧисСтр+" "+ПоПорядку+" "+ЭтоЧисло)
  Вернуть ЭтоЧисло и ПоПорядку==ТекЧис ? Деньги(ЧисСтр) : 0;
}
