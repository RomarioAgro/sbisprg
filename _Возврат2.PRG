Функция _ВозвратФорм2()
{

оНаим = Объект( "Расход" );
НПП=1;
Объект оМас;
#колготки
пСтрока="60;91;82;83;84;85;126;132;86;135;87;112;109;122;108;88;89;90;80;139;71;66;76";
#пСтрока="60;91;82;83;84;85;126;132;86;135;87;112;109;122;108;88;89;90;80;139";
#пСтрока="60;91;82;83;84;85;126";
#пСтрока="132;86;135;87;112;109";
#пСтрока="122;108;88;89;90;80";
#носки
#пСтрока="71;66;76"
Разбить(пСтрока,";",оМас);
ДляВсех(Элементов(оМас,пЭлем))
{
ДляВсех(Товаров(1,оМас[пЭлем]))
   {

   Если(Товар.Остаток!=0)
      {
      Очистить(оНаим);
     Связать( 'оНаим.Накладная-Расход', Документ );
     оКарточкаНоменклатуры = Лицо( Товар.НомНомер, "Номенклатура" );
     оКарточкаСклада = Объект( "Складская картотека" );
     'оКарточкаСклада.N склада' = 'Документ.Склад.N склада';
     Связать( 'оКарточкаСклада.Номенклатура-Склад', оКарточкаНоменклатуры );
     Если( Найти( оКарточкаСклада, "Номенклатура-Склад") <= 0 )
        Ошибка( "Не найдена карточка на складе" );
     Связать( 'оНаим.Склад-Расход', оКарточкаСклада );
     оНаим.Кол_во   = Товар.Остаток;
     оНаим.СуммаЦен =Товар.Остаток*Товар.Цена3 ;
     'оНаим.N п/п'  = НПП;    
     НПП ++;
   # Добавляем в накладную
     Добавить( оНаим );
     ВывестиСтатус('ОНАИМ.СКЛАД-РАСХОД.Название',1);
      }
   }
}
Документ.Связать( Лицо1, Лицо( "СКЛАД", "Орг" ) ); # 
#   # правило = свод продаж
Прав = Объект("Правила операций");
Прав.Имя = "РТ_ВОЗВРАТ";    # имя требуемого правила
Если( Найти( Прав, "Имя" ) И Прав.Имя == "РТ_ВОЗВРАТ" )
Документ.Связать( "Правила-Документы", Прав );
Документ.Тема="ВОЗВРАТ";
Сохранить( Документ );

}