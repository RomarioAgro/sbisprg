Функция _ПроверитьНомГруппу(пНомер,пНаим,пНомРод,пЕдИзм,пЦ1,пС1,пСП,пЦ2,пЦ3)
{
   ВывестиСтатус("Проверка/создание группы "+пНомер+"/"+пНаим,1);
   Очистить(оНом);
   фИзменять=1;
   оНом.Наименование=пНаим;
   оНом.НомНомер    =пНомер;
   Найти(оНом,"НомНомер");
   Если(оНом.НомНомер!=пНомер И пНомер!="" И пНаим!="")
   {
      Очистить(оНом);
      оНом.Наименование=пНаим;
      оНом.НомНомер    =пНомер;
      оНом.ЕДИЗМЕРЕН =пЕдИзм;
      оНом.Цена3     =пЦ3;
      оНом.Цена2     =пЦ2;
      оНом.ПланСебест=пС1;
      оНом.СТРАНА    =пСП;
      Корень(оНом);
      Узел(оНом);
      Сохранить(оНом);
      Добавить(оНом) ; # добавляем запись
      
      фИзменять=0;
   }
   Если(фИзменять)
   {
      
#      Если(пНомРод)
#      {#закоментили чтобы цена менялась только после закрытия накладной
#если открыть то цена будет меняться в момент принятия и формирования прихода, только если товар в картотеке существует
#         ДляВсех(Товаров(1,оНом.НомНомер))
#         {
#            
#            Товар.ЕдИзмерен =пЕдИзм;
#            Товар.Цена3     =пЦ3;
#            Товар.Цена2     =пЦ2;
#            Товар.ПланСебест=пС1;
##            отладить();
#            Сохранить(Товар);
#         }
#      }
      оНом.Наименование=пНаим;
      оНом.НомНомер    =пНомер;
      оНом.ЕДИЗМЕРЕН =пЕдИзм;
      оНом.Цена3     =пЦ3;
      оНом.Цена2     =пЦ2;
      оНом.ПланСебест=пС1;
      оНом.СТРАНА    =пСП;
      Сохранить(оНом); 
   }
   
   Если(пНомРод!="" И оНом.Иерархия.НомНомер!=пНомРод)
   {
#      оРаздел=Выборка("Номенклатура");
      Очистить(оРаздел);
      оРаздел.НомНомер=пНомРод;
      Найти(оРаздел,"НомНомер");
      Если(оРаздел.НомНомер==пНомРод)
      {
         Лист(оНом);
#         Сохранить(оНом);
         Связать(оНом.Иерархия,оРаздел.Лицо_);
         Узел(оНом);
         Сохранить(оНом);
      }
      Вернуть 1;
   }
   Вернуть 0;
}
